

var formatTime = function(date) {
  var year = date.getFullYear(),
      month = date.getMonth() + 1,
      day = date.getDate(),
      hour = date.getHours(),
      minute = date.getMinutes(),
      second = date.getSeconds();

  return [year, month, day].map(formatNumber).join('-');
}

var formatNumber = function (n) {
  n = n.toString();
  return n[1] ? n : '0' + n;
}

var formatTimestamp = function(timestamp) {
  return formatTime(getDate(parseInt(timestamp)));
}


var explainTimestamp = function(timestamp) {
  var interval = parseInt(getDate().getTime()) - parseInt(timestamp);
  // console.log(interval);
  // x * 1000 毫秒时间戳
  if (interval > 2592000 * 1000) {
    return '30天前';
  } else if (interval > 129600 * 1000) {
    return '15天前';
  } else if (interval > 604800 * 1000) {
    return '一周前';
  } else if (interval > 259200 * 1000) {
    return '3天前';
  } else if (interval > 172800 * 1000) {
    return '2天前';
  } else if (interval > 86400 * 1000) {
    return '昨天';
  } else {
    return '无';
  }
}


module.exports = {
  formatTimestamp: formatTimestamp,
  explainTimestamp: explainTimestamp 
}